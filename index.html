<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‹¼ç´æŒ‡æ³•æ‰‹å†Š - æ¥µç°¡ç·Šæ¹Šç‰ˆ</title>
    <style>
        :root {
            --key-w: 22px;   /* ç¨å¾®ç¸®å°å¯¬åº¦ä»¥ç¬¦åˆä¸¦æ’ */
            --key-h: 80px;   /* ç¸®æ¸›é«˜åº¦ */
            --bg-dark: #121416;
            --card-light: #ffffff;
            --accent-red: #ff4757;
            --accent-blue: #2e86de;
        }

        body {
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-dark);
            margin: 0; padding: 20px;
            display: flex; flex-direction: column; align-items: center;
        }

        .site-header { padding: 20px 0; text-align: center; color: white; }
        .site-header h1 { margin: 0; font-size: 1.5rem; letter-spacing: 2px; }

        #main-content { width: 100%; max-width: 1100px; }

        /* --- æ©«å‘ä½ˆå±€å–®å…ƒ --- */
        .lesson-module {
            background: var(--card-light);
            padding: 15px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex; /* å•Ÿå‹•å·¦å³ä¸¦æ’ */
            align-items: center;
            gap: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        /* å·¦å´ï¼šæ¨™é¡Œèˆ‡å’Œå¼¦ */
        .lesson-info {
            flex: 1; /* ä½”æ“šå·¦å´ç©ºé–“ */
            min-width: 300px;
        }

        .lesson-header-group {
            margin-bottom: 12px;
            border-left: 5px solid var(--accent-red);
            padding-left: 12px;
        }

        .main-title { font-size: 1.1rem; font-weight: 800; color: #1a1a1a; display: block; }
        .sub-title { font-size: 0.8rem; color: #777; margin-top: 4px; display: block; }

        /* æ¥µå°åŒ–å’Œå¼¦ç¶²æ ¼ */
        .chord-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 4px;
        }

        .chord-box {
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 13px;
            font-weight: 700;
            color: #444;
            background: #f8f9fa;
            border: 1px solid #eee;
            border-radius: 4px;
        }

        /* å³å´ï¼šé‹¼ç´åœ–ç¤º */
        .piano-section {
            flex: 0 0 auto;
            background: #f1f3f5;
            padding: 10px;
            border-radius: 8px;
        }

        .piano-wrapper {
            background: #000;
            padding: 10px 6px 6px 6px;
            border-radius: 6px;
            display: inline-flex;
        }

        .piano { display: flex; position: relative; }

        .white {
            width: var(--key-w); height: var(--key-h); background: white;
            border: 1px solid #e0e0e0; border-radius: 0 0 3px 3px;
            display: flex; align-items: flex-end; justify-content: center;
            padding-bottom: 8px; font-weight: bold; font-size: 10px;
            color: transparent; flex-shrink: 0;
        }

        .white.left { background: var(--accent-blue) !important; color: #fff; border: none; }
        .white.right { background: var(--accent-red) !important; color: #fff; border: none; }

        .black {
            width: calc(var(--key-w) * 0.6); height: calc(var(--key-h) * 0.6);
            background: #2c3e50; margin-left: calc(var(--key-w) * -0.3);
            margin-right: calc(var(--key-w) * -0.3); z-index: 2; border-radius: 0 0 2px 2px;
        }

        .footer { padding: 40px 0; color: #555; text-align: center; font-size: 0.8rem; }
    </style>
</head>
<body>

    <header class="site-header">
        <h1>ğŸ¹ é‹¼ç´å’Œå¼¦æŒ‡æ³•æ‰‹å†Š</h1>
    </header>

    <div id="main-content"></div>

    <script>
        const lessons = [
            {
                id: 1,
                title: "èª²ç¨‹ 01ï¼šè‡ªå½ˆè‡ªå”±ç·´ç¿’",
                subTitle: "å·¦æ‰‹ï¼šä¸€å€‹8åº¦ | å³æ‰‹ï¼šç©º1æ ¼ã€ç©º1æ ¼ã€ç©º2æ ¼ (å·¦ä¸€ä¸‹ï¼Œå³å››ä¸‹)",
                chords: ["C", "G", "Am", "FG", "C", "Em", "Am", "F-E", "Dm", "Am", "Em", "FG", "CG", "AmG", "FC", "DmG"],
                piano: { 
                    l: [1, 8], 
                    r: [10, 12, 15], 
                    names: { 1: 'C', 8: 'C', 10: 'E', 12: 'G', 15: 'A' } 
                }
            },
            {
                id: 2,
                title: "èª²ç¨‹ 02ï¼šå·¦æ‰‹å’Œå¼¦ç·´ç¿’",
                subTitle: "å·¦æ‰‹ï¼šä¸€å€‹8åº¦+ç¬¬5å€‹éŸ³ | å³æ‰‹ï¼šå–®éŸ³ (å·¦åˆ†åˆ¥ï¼Œå³åˆ†åˆ¥)",
                chords: ["Am", "Em", "F", "C", "Dm", "Am", "B", "E", "Am", "Em", "F", "C", "Dm", "Am", "F", "E"],
                piano: { 
                    l: [6, 10, 13], 
                    r: [20], 
                    names: { 6: 'A', 10: 'E', 13: 'A', 20: 'A', 15: 'A' } 
                }
            }
        ];

        // æ¨¡æ“¬å…¶é¤˜èª²ç¨‹
        for(let i = 3; i <= 20; i++) {
            lessons.push({
                id: i,
                title: `èª²ç¨‹ ${i < 10 ? '0'+i : i}ï¼šç·´ç¿’é€²åº¦`,
                subTitle: "èªªæ˜æ–‡å­—å·²ç²¾ç°¡",
                chords: Array(16).fill("-"),
                piano: { l: [1], r: [15, 17, 19], names: {} }
            });
        }

        const container = document.getElementById('main-content');

        lessons.forEach(lesson => {
            const module = document.createElement('div');
            module.className = 'lesson-module';
            const chordHtml = lesson.chords.map(c => `<div class="chord-box">${c}</div>`).join('');

            module.innerHTML = `
                <div class="lesson-info">
                    <div class="lesson-header-group">
                        <span class="main-title">${lesson.title}</span>
                        <span class="sub-title">${lesson.subTitle}</span>
                    </div>
                    <div class="chord-grid">${chordHtml}</div>
                </div>
                <div class="piano-section">
                    <div class="piano-wrapper">
                        <div class="piano" id="p-idx-${lesson.id}"></div>
                    </div>
                </div>
            `;
            container.appendChild(module);
            renderPiano(`p-idx-${lesson.id}`, lesson.piano);
        });

        function renderPiano(id, config) {
            const el = document.getElementById(id);
            let html = '';
            let keyCount = 0;
            for (let oct = 0; oct < 3; oct++) {
                const pattern = [true, true, false, true, true, true, false];
                for (let i = 0; i < 7; i++) {
                    keyCount++;
                    const isL = config.l.includes(keyCount);
                    const isR = config.r.includes(keyCount);
                    const cls = isL ? 'left' : (isR ? 'right' : '');
                    const label = config.names[keyCount] || '';
                    html += `<div class="white ${cls}">${label}</div>`;
                    if (pattern[i]) html += `<div class="black"></div>`;
                }
            }
            el.innerHTML = html;
        }
    </script>
</body>
</html>
